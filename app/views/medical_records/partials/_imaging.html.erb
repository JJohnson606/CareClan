<!-- app/views/medical_records/partials/_imaging.html.erb -->
<div class="imaging-record">
  
  <% notes = JSON.parse(medical_record.notes) rescue nil %>
  <% if notes %>
    <div class="bg-white p-4 shadow rounded-lg mb-4">
      <p><strong>Type:</strong> <%= notes['type'] %></p>
      <br>
      <p><strong>Findings:</strong> <%= notes['findings'] %></p>
      <br>
      <p><strong>Interpretation:</strong> <%= notes['interpretation'] %></p>
      <br>
    </div>

    <!-- Carousel for X-ray images with inline CSS for size adjustments -->
   <div class="w-300 carousel rounded-box">
    <div class="carousel-item w-full">
     <%= image_tag('xray_1.jpeg', alt: 'X-ray Image 1', style: 'width: 100%; max-height: 600px; object-fit: contain;') %>
     </div>
     <div class="carousel-item w-full">
     <%= image_tag('xray_2.jpeg', alt: 'X-ray Image 2', style: 'width: 100%; max-height: 600px; object-fit: contain;') %>
     </div>
     <div class="carousel-item w-full">
     <%= image_tag('xray_3.jpeg', alt: 'X-ray Image 3', style: 'width: 100%; max-height: 600px; object-fit: contain;') %>
     </div>
  </div>

  <% else %>
    <p class="text-red-500">Invalid or missing imaging data.</p>
  <% end %>
</div>